import DEFAULT_TOKEN_LIST from '@uniswap/default-token-list';
import { Token } from '@uniswap/sdk-core';
import { CachingTokenListProvider, ChainId, DAI_ARBITRUM, DAI_ARBITRUM_RINKEBY, DAI_BSC, DAI_GÖRLI, DAI_KOVAN, DAI_MAINNET, DAI_OPTIMISM, DAI_OPTIMISM_GOERLI, DAI_OPTIMISTIC_KOVAN, DAI_POLYGON, DAI_POLYGON_MUMBAI, DAI_RINKEBY_1, DAI_ROPSTEN, log, NodeJSCache, USDC_ARBITRUM, USDC_ARBITRUM_RINKEBY, USDC_BSC, USDC_GÖRLI, USDC_KOVAN, USDC_MAINNET, USDC_OPTIMISM, USDC_OPTIMISM_GOERLI, USDC_OPTIMISTIC_KOVAN, USDC_POLYGON, USDC_POLYGON_MUMBAI, USDC_RINKEBY, USDC_ROPSTEN, USDT_ARBITRUM, USDT_ARBITRUM_RINKEBY, USDT_BSC, USDT_GÖRLI, USDT_KOVAN, USDT_MAINNET, USDT_OPTIMISM, USDT_OPTIMISTIC_KOVAN, USDT_RINKEBY, USDT_ROPSTEN, WRAPPED_NATIVE_CURRENCY, } from '@tartz-one/smart-order-router';
import { ethers } from 'ethers';
import NodeCache from 'node-cache';
export const getTokenListProvider = (id) => {
    return new CachingTokenListProvider(id, DEFAULT_TOKEN_LIST, new NodeJSCache(new NodeCache()));
};
export const getAmount = async (id, type, symbolIn, symbolOut, amount) => {
    const tokenListProvider = getTokenListProvider(id);
    const decimals = (await tokenListProvider.getTokenBySymbol(type == 'exactIn' ? symbolIn : symbolOut)).decimals;
    log.info(decimals);
    return ethers.utils.parseUnits(amount, decimals).toString();
};
export const getAmountFromToken = async (type, tokenIn, tokenOut, amount) => {
    const decimals = (type == 'exactIn' ? tokenIn : tokenOut).decimals;
    return ethers.utils.parseUnits(amount, decimals).toString();
};
export const UNI_MAINNET = new Token(ChainId.MAINNET, '0x1f9840a85d5af5bf1d1762f925bdaddc4201f984', 18, 'UNI', 'Uniswap');
export const UNI_ARBITRUM_RINKEBY = new Token(ChainId.ARBITRUM_RINKEBY, '0x049251a7175071316e089d0616d8b6aacd2c93b8', 18, 'UNI', 'Uni token');
export const UNI_GORLI = new Token(ChainId.GÖRLI, '0x1f9840a85d5aF5bf1D1762F925BDADdC4201F984', 18, 'UNI', 'Uni token');
export const DAI_ON = (chainId) => {
    switch (chainId) {
        case ChainId.MAINNET:
            return DAI_MAINNET;
        case ChainId.ROPSTEN:
            return DAI_ROPSTEN;
        case ChainId.RINKEBY:
            return DAI_RINKEBY_1;
        case ChainId.GÖRLI:
            return DAI_GÖRLI;
        case ChainId.KOVAN:
            return DAI_KOVAN;
        case ChainId.OPTIMISM:
            return DAI_OPTIMISM;
        case ChainId.OPTIMISM_GOERLI:
            return DAI_OPTIMISM_GOERLI;
        case ChainId.OPTIMISTIC_KOVAN:
            return DAI_OPTIMISTIC_KOVAN;
        case ChainId.ARBITRUM_ONE:
            return DAI_ARBITRUM;
        case ChainId.ARBITRUM_RINKEBY:
            return DAI_ARBITRUM_RINKEBY;
        case ChainId.POLYGON:
            return DAI_POLYGON;
        case ChainId.POLYGON_MUMBAI:
            return DAI_POLYGON_MUMBAI;
        case ChainId.BSC:
            return DAI_BSC;
        default:
            throw new Error(`Chain id: ${chainId} not supported`);
    }
};
export const USDT_ON = (chainId) => {
    switch (chainId) {
        case ChainId.MAINNET:
            return USDT_MAINNET;
        case ChainId.ROPSTEN:
            return USDT_ROPSTEN;
        case ChainId.RINKEBY:
            return USDT_RINKEBY;
        case ChainId.GÖRLI:
            return USDT_GÖRLI;
        case ChainId.KOVAN:
            return USDT_KOVAN;
        case ChainId.OPTIMISM:
            return USDT_OPTIMISM;
        case ChainId.OPTIMISTIC_KOVAN:
            return USDT_OPTIMISTIC_KOVAN;
        case ChainId.ARBITRUM_ONE:
            return USDT_ARBITRUM;
        case ChainId.ARBITRUM_RINKEBY:
            return USDT_ARBITRUM_RINKEBY;
        case ChainId.BSC:
            return USDT_BSC;
        default:
            throw new Error(`Chain id: ${chainId} not supported`);
    }
};
export const USDC_ON = (chainId) => {
    switch (chainId) {
        case ChainId.MAINNET:
            return USDC_MAINNET;
        case ChainId.ROPSTEN:
            return USDC_ROPSTEN;
        case ChainId.RINKEBY:
            return USDC_RINKEBY;
        case ChainId.GÖRLI:
            return USDC_GÖRLI;
        case ChainId.KOVAN:
            return USDC_KOVAN;
        case ChainId.OPTIMISM:
            return USDC_OPTIMISM;
        case ChainId.OPTIMISM_GOERLI:
            return USDC_OPTIMISM_GOERLI;
        case ChainId.OPTIMISTIC_KOVAN:
            return USDC_OPTIMISTIC_KOVAN;
        case ChainId.ARBITRUM_ONE:
            return USDC_ARBITRUM;
        case ChainId.ARBITRUM_RINKEBY:
            return USDC_ARBITRUM_RINKEBY;
        case ChainId.POLYGON:
            return USDC_POLYGON;
        case ChainId.POLYGON_MUMBAI:
            return USDC_POLYGON_MUMBAI;
        case ChainId.BSC:
            return USDC_BSC;
        default:
            throw new Error(`Chain id: ${chainId} not supported`);
    }
};
export const WNATIVE_ON = (chainId) => {
    return WRAPPED_NATIVE_CURRENCY[chainId];
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidG9rZW5zLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vdGVzdC91dGlscy90b2tlbnMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxrQkFBa0IsTUFBTSw2QkFBNkIsQ0FBQTtBQUM1RCxPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0sbUJBQW1CLENBQUE7QUFDekMsT0FBTyxFQUNMLHdCQUF3QixFQUN4QixPQUFPLEVBQ1AsWUFBWSxFQUNaLG9CQUFvQixFQUNwQixPQUFPLEVBQ1AsU0FBUyxFQUNULFNBQVMsRUFDVCxXQUFXLEVBQ1gsWUFBWSxFQUNaLG1CQUFtQixFQUNuQixvQkFBb0IsRUFDcEIsV0FBVyxFQUNYLGtCQUFrQixFQUNsQixhQUFhLEVBQ2IsV0FBVyxFQUNYLEdBQUcsRUFDSCxXQUFXLEVBQ1gsYUFBYSxFQUNiLHFCQUFxQixFQUNyQixRQUFRLEVBQ1IsVUFBVSxFQUNWLFVBQVUsRUFDVixZQUFZLEVBQ1osYUFBYSxFQUNiLG9CQUFvQixFQUNwQixxQkFBcUIsRUFDckIsWUFBWSxFQUNaLG1CQUFtQixFQUNuQixZQUFZLEVBQ1osWUFBWSxFQUNaLGFBQWEsRUFDYixxQkFBcUIsRUFDckIsUUFBUSxFQUNSLFVBQVUsRUFDVixVQUFVLEVBQ1YsWUFBWSxFQUNaLGFBQWEsRUFDYixxQkFBcUIsRUFDckIsWUFBWSxFQUNaLFlBQVksRUFDWix1QkFBdUIsR0FDeEIsTUFBTSwrQkFBK0IsQ0FBQTtBQUN0QyxPQUFPLEVBQUUsTUFBTSxFQUFFLE1BQU0sUUFBUSxDQUFBO0FBQy9CLE9BQU8sU0FBUyxNQUFNLFlBQVksQ0FBQTtBQUVsQyxNQUFNLENBQUMsTUFBTSxvQkFBb0IsR0FBRyxDQUFDLEVBQVcsRUFBRSxFQUFFO0lBQ2xELE9BQU8sSUFBSSx3QkFBd0IsQ0FBQyxFQUFFLEVBQUUsa0JBQWtCLEVBQUUsSUFBSSxXQUFXLENBQUMsSUFBSSxTQUFTLEVBQUUsQ0FBQyxDQUFDLENBQUE7QUFDL0YsQ0FB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LE9BQU8sVUFBVSxDQUFBO1FBQ25CLEtBQUssT0FBTyxDQUFDLEtBQUs7WUFDaEIsT0FBTyxVQUFVLENBQUE7UUFDbkIsS0FBSyxPQUFPLENBQUMsUUFBUTtZQUNuQixPQUFPLGFBQWEsQ0FBQTtRQUN0QixLQUFLLE9BQU8sQ0FBQyxlQUFlO1lBQzFCLE9BQU8sb0JBQW9CLENBQUE7UUFDN0IsS0FBSyxPQUFPLENBQUMsZ0JBQWdCO1lBQzNCLE9BQU8scUJBQXFCLENBQUE7UUFDOUIsS0FBSyxPQUFPLENBQUMsWUFBWTtZQUN2QixPQUFPLGFBQWEsQ0FBQTtRQUN0QixLQUFLLE9BQU8sQ0FBQyxnQkFBZ0I7WUFDM0IsT0FBTyxxQkFBcUIsQ0FBQTtRQUM5QixLQUFLLE9BQU8sQ0FBQyxPQUFPO1lBQ2xCLE9BQU8sWUFBWSxDQUFBO1FBQ3JCLEtBQUssT0FBTyxDQUFDLGNBQWM7WUFDekIsT0FBTyxtQkFBbUIsQ0FBQTtRQUM1QixLQUFLLE9BQU8sQ0FBQyxHQUFHO1lBQ2QsT0FBTyxRQUFRLENBQUE7UUFDakI7WUFDRSxNQUFNLElBQUksS0FBSyxDQUFDLGFBQWEsT0FBTyxnQkFBZ0IsQ0FBQyxDQUFBO0tBQ3hEO0FBQ0gsQ0FBQyxDQUFBO0FBRUQsTUFBTSxDQUFDLE1BQU0sVUFBVSxHQUFHLENBQUMsT0FBZ0IsRUFBUyxFQUFFO0lBQ3BELE9BQU8sdUJBQXVCLENBQUMsT0FBTyxDQUFDLENBQUE7QUFDekMsQ0FBQyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IERFRkFVTFRfVE9LRU5fTElTVCBmcm9tICdAdW5pc3dhcC9kZWZhdWx0LXRva2VuLWxpc3QnXG5pbXBvcnQgeyBUb2tlbiB9IGZyb20gJ0B1bmlzd2FwL3Nkay1jb3JlJ1xuaW1wb3J0IHtcbiAgQ2FjaGluZ1Rva2VuTGlzdFByb3ZpZGVyLFxuICBDaGFpbklkLFxuICBEQUlfQVJCSVRSVU0sXG4gIERBSV9BUkJJVFJVTV9SSU5LRUJZLFxuICBEQUlfQlNDLFxuICBEQUlfR8OWUkxJLFxuICBEQUlfS09WQU4sXG4gIERBSV9NQUlOTkVULFxuICBEQUlfT1BUSU1JU00sXG4gIERBSV9PUFRJTUlTTV9HT0VSTEksXG4gIERBSV9PUFRJTUlTVElDX0tPVkFOLFxuICBEQUlfUE9MWUdPTixcbiAgREFJX1BPTFlHT05fTVVNQkFJLFxuICBEQUlfUklOS0VCWV8xLFxuICBEQUlfUk9QU1RFTixcbiAgbG9nLFxuICBOb2RlSlNDYWNoZSxcbiAgVVNEQ19BUkJJVFJVTSxcbiAgVVNEQ19BUkJJVFJVTV9SSU5LRUJZLFxuICBVU0RDX0JTQyxcbiAgVVNEQ19Hw5ZSTEksXG4gIFVTRENfS09WQU4sXG4gIFVTRENfTUFJTk5FVCxcbiAgVVNEQ19PUFRJTUlTTSxcbiAgVVNEQ19PUFRJTUlTTV9HT0VSTEksXG4gIFVTRENfT1BUSU1JU1RJQ19LT1ZBTixcbiAgVVNEQ19QT0xZR09OLFxuICBVU0RDX1BPTFlHT05fTVVNQkFJLFxuICBVU0RDX1JJTktFQlksXG4gIFVTRENfUk9QU1RFTixcbiAgVVNEVF9BUkJJVFJVTSxcbiAgVVNEVF9BUkJJVFJVTV9SSU5LRUJZLFxuICBVU0RUX0JTQyxcbiAgVVNEVF9Hw5ZSTEksXG4gIFVTRFRfS09WQU4sXG4gIFVTRFRfTUFJTk5FVCxcbiAgVVNEVF9PUFRJTUlTTSxcbiAgVVNEVF9PUFRJTUlTVElDX0tPVkFOLFxuICBVU0RUX1JJTktFQlksXG4gIFVTRFRfUk9QU1RFTixcbiAgV1JBUFBFRF9OQVRJVkVfQ1VSUkVOQ1ksXG59IGZyb20gJ0B0YXJ0ei1vbmUvc21hcnQtb3JkZXItcm91dGVyJ1xuaW1wb3J0IHsgZXRoZXJzIH0gZnJvbSAnZXRoZXJzJ1xuaW1wb3J0IE5vZGVDYWNoZSBmcm9tICdub2RlLWNhY2hlJ1xuXG5leHBvcnQgY29uc3QgZ2V0VG9rZW5MaXN0UHJvdmlkZXIgPSAoaWQ6IENoYWluSWQpID0+IHtcbiAgcmV0dXJuIG5ldyBDYWNoaW5nVG9rZW5MaXN0UHJvdmlkZXIoaWQsIERFRkFVTFRfVE9LRU5fTElTVCwgbmV3IE5vZGVKU0NhY2hlKG5ldyBOb2RlQ2FjaGUoKSkpXG59XG5cbmV4cG9ydCBjb25zdCBnZXRBbW91bnQgPSBhc3luYyAoaWQ6IENoYWluSWQsIHR5cGU6IHN0cmluZywgc3ltYm9sSW46IHN0cmluZywgc3ltYm9sT3V0OiBzdHJpbmcsIGFtb3VudDogc3RyaW5nKSA9PiB7XG4gIGNvbnN0IHRva2VuTGlzdFByb3ZpZGVyID0gZ2V0VG9rZW5MaXN0UHJvdmlkZXIoaWQpXG4gIGNvbnN0IGRlY2ltYWxzID0gKGF3YWl0IHRva2VuTGlzdFByb3ZpZGVyLmdldFRva2VuQnlTeW1ib2wodHlwZSA9PSAnZXhhY3RJbicgPyBzeW1ib2xJbiA6IHN5bWJvbE91dCkpIS5kZWNpbWFsc1xuICBsb2cuaW5mbyhkZWNpbWFscylcbiAgcmV0dXJuIGV0aGVycy51dGlscy5wYXJzZVVuaXRzKGFtb3VudCwgZGVjaW1hbHMpLnRvU3RyaW5nKClcbn1cblxuZXhwb3J0IGNvbnN0IGdldEFtb3VudEZyb21Ub2tlbiA9IGFzeW5jICh0eXBlOiBzdHJpbmcsIHRva2VuSW46IFRva2VuLCB0b2tlbk91dDogVG9rZW4sIGFtb3VudDogc3RyaW5nKSA9PiB7XG4gIGNvbnN0IGRlY2ltYWxzID0gKHR5cGUgPT0gJ2V4YWN0SW4nID8gdG9rZW5JbiA6IHRva2VuT3V0KS5kZWNpbWFsc1xuICByZXR1cm4gZXRoZXJzLnV0aWxzLnBhcnNlVW5pdHMoYW1vdW50LCBkZWNpbWFscykudG9TdHJpbmcoKVxufVxuXG5leHBvcnQgY29uc3QgVU5JX01BSU5ORVQgPSBuZXcgVG9rZW4oXG4gIENoYWluSWQuTUFJTk5FVCxcbiAgJzB4MWY5ODQwYTg1ZDVhZjViZjFkMTc2MmY5MjViZGFkZGM0MjAxZjk4NCcsXG4gIDE4LFxuICAnVU5JJyxcbiAgJ1VuaXN3YXAnXG4pXG5cbmV4cG9ydCBjb25zdCBVTklfQVJCSVRSVU1fUklOS0VCWSA9IG5ldyBUb2tlbihcbiAgQ2hhaW5JZC5BUkJJVFJVTV9SSU5LRUJZLFxuICAnMHgwNDkyNTFhNzE3NTA3MTMxNmUwODlkMDYxNmQ4YjZhYWNkMmM5M2I4JyxcbiAgMTgsXG4gICdVTkknLFxuICAnVW5pIHRva2VuJ1xuKVxuXG5leHBvcnQgY29uc3QgVU5JX0dPUkxJID0gbmV3IFRva2VuKENoYWluSWQuR8OWUkxJLCAnMHgxZjk4NDBhODVkNWFGNWJmMUQxNzYyRjkyNUJEQURkQzQyMDFGOTg0JywgMTgsICdVTkknLCAnVW5pIHRva2VuJylcblxuZXhwb3J0IGNvbnN0IERBSV9PTiA9IChjaGFpbklkOiBDaGFpbklkKTogVG9rZW4gPT4ge1xuICBzd2l0Y2ggKGNoYWluSWQpIHtcbiAgICBjYXNlIENoYWluSWQuTUFJTk5FVDpcbiAgICAgIHJldHVybiBEQUlfTUFJTk5FVFxuICAgIGNhc2UgQ2hhaW5JZC5ST1BTVEVOOlxuICAgICAgcmV0dXJuIERBSV9ST1BTVEVOXG4gICAgY2FzZSBDaGFpbklkLlJJTktFQlk6XG4gICAgICByZXR1cm4gREFJX1JJTktFQllfMVxuICAgIGNhc2UgQ2hhaW5JZC5Hw5ZSTEk6XG4gICAgICByZXR1cm4gREFJX0fDllJMSVxuICAgIGNhc2UgQ2hhaW5JZC5LT1ZBTjpcbiAgICAgIHJldHVybiBEQUlfS09WQU5cbiAgICBjYXNlIENoYWluSWQuT1BUSU1JU006XG4gICAgICByZXR1cm4gREFJX09QVElNSVNNXG4gICAgY2FzZSBDaGFpbklkLk9QVElNSVNNX0dPRVJMSTpcbiAgICAgIHJldHVybiBEQUlfT1BUSU1JU01fR09FUkxJXG4gICAgY2FzZSBDaGFpbklkLk9QVElNSVNUSUNfS09WQU46XG4gICAgICByZXR1cm4gREFJX09QVElNSVNUSUNfS09WQU5cbiAgICBjYXNlIENoYWluSWQuQVJCSVRSVU1fT05FOlxuICAgICAgcmV0dXJuIERBSV9BUkJJVFJVTVxuICAgIGNhc2UgQ2hhaW5JZC5BUkJJVFJVTV9SSU5LRUJZOlxuICAgICAgcmV0dXJuIERBSV9BUkJJVFJVTV9SSU5LRUJZXG4gICAgY2FzZSBDaGFpbklkLlBPTFlHT046XG4gICAgICByZXR1cm4gREFJX1BPTFlHT05cbiAgICBjYXNlIENoYWluSWQuUE9MWUdPTl9NVU1CQUk6XG4gICAgICByZXR1cm4gREFJX1BPTFlHT05fTVVNQkFJXG4gICAgY2FzZSBDaGFpbklkLkJTQzpcbiAgICAgIHJldHVybiBEQUlfQlNDXG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IG5ldyBFcnJvcihgQ2hhaW4gaWQ6ICR7Y2hhaW5JZH0gbm90IHN1cHBvcnRlZGApXG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IFVTRFRfT04gPSAoY2hhaW5JZDogQ2hhaW5JZCk6IFRva2VuID0+IHtcbiAgc3dpdGNoIChjaGFpbklkKSB7XG4gICAgY2FzZSBDaGFpbklkLk1BSU5ORVQ6XG4gICAgICByZXR1cm4gVVNEVF9NQUlOTkVUXG4gICAgY2FzZSBDaGFpbklkLlJPUFNURU46XG4gICAgICByZXR1cm4gVVNEVF9ST1BTVEVOXG4gICAgY2FzZSBDaGFpbklkLlJJTktFQlk6XG4gICAgICByZXR1cm4gVVNEVF9SSU5LRUJZXG4gICAgY2FzZSBDaGFpbklkLkfDllJMSTpcbiAgICAgIHJldHVybiBVU0RUX0fDllJMSVxuICAgIGNhc2UgQ2hhaW5JZC5LT1ZBTjpcbiAgICAgIHJldHVybiBVU0RUX0tPVkFOXG4gICAgY2FzZSBDaGFpbklkLk9QVElNSVNNOlxuICAgICAgcmV0dXJuIFVTRFRfT1BUSU1JU01cbiAgICBjYXNlIENoYWluSWQuT1BUSU1JU1RJQ19LT1ZBTjpcbiAgICAgIHJldHVybiBVU0RUX09QVElNSVNUSUNfS09WQU5cbiAgICBjYXNlIENoYWluSWQuQVJCSVRSVU1fT05FOlxuICAgICAgcmV0dXJuIFVTRFRfQVJCSVRSVU1cbiAgICBjYXNlIENoYWluSWQuQVJCSVRSVU1fUklOS0VCWTpcbiAgICAgIHJldHVybiBVU0RUX0FSQklUUlVNX1JJTktFQllcbiAgICBjYXNlIENoYWluSWQuQlNDOlxuICAgICAgcmV0dXJuIFVTRFRfQlNDXG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IG5ldyBFcnJvcihgQ2hhaW4gaWQ6ICR7Y2hhaW5JZH0gbm90IHN1cHBvcnRlZGApXG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IFVTRENfT04gPSAoY2hhaW5JZDogQ2hhaW5JZCk6IFRva2VuID0+IHtcbiAgc3dpdGNoIChjaGFpbklkKSB7XG4gICAgY2FzZSBDaGFpbklkLk1BSU5ORVQ6XG4gICAgICByZXR1cm4gVVNEQ19NQUlOTkVUXG4gICAgY2FzZSBDaGFpbklkLlJPUFNURU46XG4gICAgICByZXR1cm4gVVNEQ19ST1BTVEVOXG4gICAgY2FzZSBDaGFpbklkLlJJTktFQlk6XG4gICAgICByZXR1cm4gVVNEQ19SSU5LRUJZXG4gICAgY2FzZSBDaGFpbklkLkfDllJMSTpcbiAgICAgIHJldHVybiBVU0RDX0fDllJMSVxuICAgIGNhc2UgQ2hhaW5JZC5LT1ZBTjpcbiAgICAgIHJldHVybiBVU0RDX0tPVkFOXG4gICAgY2FzZSBDaGFpbklkLk9QVElNSVNNOlxuICAgICAgcmV0dXJuIFVTRENfT1BUSU1JU01cbiAgICBjYXNlIENoYWluSWQuT1BUSU1JU01fR09FUkxJOlxuICAgICAgcmV0dXJuIFVTRENfT1BUSU1JU01fR09FUkxJXG4gICAgY2FzZSBDaGFpbklkLk9QVElNSVNUSUNfS09WQU46XG4gICAgICByZXR1cm4gVVNEQ19PUFRJTUlTVElDX0tPVkFOXG4gICAgY2FzZSBDaGFpbklkLkFSQklUUlVNX09ORTpcbiAgICAgIHJldHVybiBVU0RDX0FSQklUUlVNXG4gICAgY2FzZSBDaGFpbklkLkFSQklUUlVNX1JJTktFQlk6XG4gICAgICByZXR1cm4gVVNEQ19BUkJJVFJVTV9SSU5LRUJZXG4gICAgY2FzZSBDaGFpbklkLlBPTFlHT046XG4gICAgICByZXR1cm4gVVNEQ19QT0xZR09OXG4gICAgY2FzZSBDaGFpbklkLlBPTFlHT05fTVVNQkFJOlxuICAgICAgcmV0dXJuIFVTRENfUE9MWUdPTl9NVU1CQUlcbiAgICBjYXNlIENoYWluSWQuQlNDOlxuICAgICAgcmV0dXJuIFVTRENfQlNDXG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IG5ldyBFcnJvcihgQ2hhaW4gaWQ6ICR7Y2hhaW5JZH0gbm90IHN1cHBvcnRlZGApXG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IFdOQVRJVkVfT04gPSAoY2hhaW5JZDogQ2hhaW5JZCk6IFRva2VuID0+IHtcbiAgcmV0dXJuIFdSQVBQRURfTkFUSVZFX0NVUlJFTkNZW2NoYWluSWRdXG59XG4iXX0=