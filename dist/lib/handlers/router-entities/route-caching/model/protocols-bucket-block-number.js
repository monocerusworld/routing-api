/**
 * Class used to model the sort key of the CachedRoutes cache database.
 */
export class ProtocolsBucketBlockNumber {
    constructor({ protocols, bucket, blockNumber }) {
        this.protocols = protocols.sort();
        this.bucket = bucket;
        this.blockNumber = blockNumber;
    }
    fullKey() {
        if (this.blockNumber === undefined) {
            throw Error('BlockNumber is necessary to create a fullKey');
        }
        return `${this.protocols}/${this.bucket}/${this.blockNumber}`;
    }
    protocolsBucketPartialKey() {
        return `${this.protocols}/${this.bucket}/`;
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvdG9jb2xzLWJ1Y2tldC1ibG9jay1udW1iZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9saWIvaGFuZGxlcnMvcm91dGVyLWVudGl0aWVzL3JvdXRlLWNhY2hpbmcvbW9kZWwvcHJvdG9jb2xzLWJ1Y2tldC1ibG9jay1udW1iZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBUUE7O0dBRUc7QUFDSCxNQUFNLE9BQU8sMEJBQTBCO0lBS3JDLFlBQVksRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUFFLFdBQVcsRUFBa0M7UUFDNUUsSUFBSSxDQUFDLFNBQVMsR0FBRyxTQUFTLENBQUMsSUFBSSxFQUFFLENBQUE7UUFDakMsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUE7UUFDcEIsSUFBSSxDQUFDLFdBQVcsR0FBRyxXQUFXLENBQUE7SUFDaEMsQ0FBQztJQUVNLE9BQU87UUFDWixJQUFJLElBQUksQ0FBQyxXQUFXLEtBQUssU0FBUyxFQUFFO1lBQ2xDLE1BQU0sS0FBSyxDQUFDLDhDQUE4QyxDQUFDLENBQUE7U0FDNUQ7UUFFRCxPQUFPLEdBQUcsSUFBSSxDQUFDLFNBQVMsSUFBSSxJQUFJLENBQUMsTUFBTSxJQUFJLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQTtJQUMvRCxDQUFDO0lBRU0seUJBQXlCO1FBQzlCLE9BQU8sR0FBRyxJQUFJLENBQUMsU0FBUyxJQUFJLElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQTtJQUM1QyxDQUFDO0NBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQcm90b2NvbCB9IGZyb20gJ0B1bmlzd2FwL3JvdXRlci1zZGsnXG5cbmludGVyZmFjZSBQcm90b2NvbHNCdWNrZXRCbG9ja051bWJlckFyZ3Mge1xuICBwcm90b2NvbHM6IFByb3RvY29sW11cbiAgYnVja2V0OiBudW1iZXJcbiAgYmxvY2tOdW1iZXI/OiBudW1iZXJcbn1cblxuLyoqXG4gKiBDbGFzcyB1c2VkIHRvIG1vZGVsIHRoZSBzb3J0IGtleSBvZiB0aGUgQ2FjaGVkUm91dGVzIGNhY2hlIGRhdGFiYXNlLlxuICovXG5leHBvcnQgY2xhc3MgUHJvdG9jb2xzQnVja2V0QmxvY2tOdW1iZXIge1xuICBwcml2YXRlIHByb3RvY29sczogUHJvdG9jb2xbXVxuICBwcml2YXRlIGJ1Y2tldDogbnVtYmVyXG4gIHByaXZhdGUgYmxvY2tOdW1iZXI/OiBudW1iZXJcblxuICBjb25zdHJ1Y3Rvcih7IHByb3RvY29scywgYnVja2V0LCBibG9ja051bWJlciB9OiBQcm90b2NvbHNCdWNrZXRCbG9ja051bWJlckFyZ3MpIHtcbiAgICB0aGlzLnByb3RvY29scyA9IHByb3RvY29scy5zb3J0KClcbiAgICB0aGlzLmJ1Y2tldCA9IGJ1Y2tldFxuICAgIHRoaXMuYmxvY2tOdW1iZXIgPSBibG9ja051bWJlclxuICB9XG5cbiAgcHVibGljIGZ1bGxLZXkoKTogc3RyaW5nIHtcbiAgICBpZiAodGhpcy5ibG9ja051bWJlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBFcnJvcignQmxvY2tOdW1iZXIgaXMgbmVjZXNzYXJ5IHRvIGNyZWF0ZSBhIGZ1bGxLZXknKVxuICAgIH1cblxuICAgIHJldHVybiBgJHt0aGlzLnByb3RvY29sc30vJHt0aGlzLmJ1Y2tldH0vJHt0aGlzLmJsb2NrTnVtYmVyfWBcbiAgfVxuXG4gIHB1YmxpYyBwcm90b2NvbHNCdWNrZXRQYXJ0aWFsS2V5KCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIGAke3RoaXMucHJvdG9jb2xzfS8ke3RoaXMuYnVja2V0fS9gXG4gIH1cbn1cbiJdfQ==