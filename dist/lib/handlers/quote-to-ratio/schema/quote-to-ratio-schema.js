import Joi from '@hapi/joi';
import { TickMath } from '@uniswap/v3-sdk';
import { SUPPORTED_CHAINS } from '../../injector-sor';
import { QuoteResponseSchemaJoi } from '../../schema';
export const QuoteToRatioQueryParamsJoi = Joi.object({
    token0Address: Joi.string().alphanum().max(42).required(),
    token0ChainId: Joi.number()
        .valid(...SUPPORTED_CHAINS.values())
        .required(),
    token1Address: Joi.string().alphanum().max(42).required(),
    token1ChainId: Joi.number()
        .valid(...SUPPORTED_CHAINS.values())
        .required(),
    token0Balance: Joi.string()
        .pattern(/^[0-9]+$/)
        .max(77) // TODO: validate < 2**256
        .required(),
    token1Balance: Joi.string()
        .pattern(/^[0-9]+$/)
        .max(77) // TODO: validate < 2**256
        .required(),
    tickLower: Joi.number().min(TickMath.MIN_TICK).max(TickMath.MAX_TICK).required(),
    tickUpper: Joi.number().min(TickMath.MIN_TICK).max(TickMath.MAX_TICK).required(),
    feeAmount: Joi.number().min(0).max(10000).required(),
    recipient: Joi.string()
        .pattern(new RegExp(/^0x[a-fA-F0-9]{40}$/))
        .optional(),
    slippageTolerance: Joi.number().min(0).max(20).precision(2).optional(),
    deadline: Joi.number().max(10800).optional(),
    gasPriceWei: Joi.string()
        .pattern(/^[0-9]+$/)
        .max(30)
        .optional(),
    minSplits: Joi.number().max(7).optional(),
    ratioErrorTolerance: Joi.number().min(0).max(10).precision(2).default(1).optional(),
    maxIterations: Joi.number().min(1).max(10).default(5).required(),
    addLiquidityRecipient: Joi.string()
        .pattern(new RegExp(/^0x[a-fA-F0-9]{40}$/))
        .optional(),
    addLiquidityTokenId: Joi.string()
        .pattern(/^[0-9]+$/)
        .max(53) // TODO: validate < 2**176
        .optional(),
}).and('slippageTolerance', 'deadline');
export const QuotetoRatioResponseSchemaJoi = QuoteResponseSchemaJoi.keys({
    tokenInAddress: Joi.string().alphanum().max(42).required(),
    tokenOutAddress: Joi.string().alphanum().max(42).required(),
    token0BalanceUpdated: Joi.string().alphanum().required(),
    token1BalanceUpdated: Joi.string().alphanum().required(),
    optimalRatio: Joi.string().required(),
    optimalRatioFraction: Joi.object({
        numerator: Joi.string(),
        denominator: Joi.string(),
    }).required(),
    newRatio: Joi.string().required(),
    newRatioFraction: Joi.object({
        numerator: Joi.string().alphanum(),
        denominator: Joi.string().alphanum(),
    }).required(),
    postSwapTargetPool: Joi.object({
        address: Joi.string().alphanum().max(42).required(),
        tokenIn: Joi.object({
            address: Joi.string().alphanum().max(42).required(),
            chainId: Joi.number()
                .valid(...SUPPORTED_CHAINS.values())
                .required(),
            symbol: Joi.string().alphanum().required(),
            decimals: Joi.number().required(),
        }),
        tokenOut: Joi.object({
            address: Joi.string().alphanum().max(42).required(),
            chainId: Joi.number()
                .valid(...SUPPORTED_CHAINS.values())
                .required(),
            symbol: Joi.string().alphanum().required(),
            decimals: Joi.number().required(),
        }),
        sqrtRatioX96: Joi.string().alphanum().required(),
        liquidity: Joi.string().alphanum().required(),
        tickCurrent: Joi.number().required(),
        fee: Joi.number().required(),
    }).optional(),
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicXVvdGUtdG8tcmF0aW8tc2NoZW1hLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vbGliL2hhbmRsZXJzL3F1b3RlLXRvLXJhdGlvL3NjaGVtYS9xdW90ZS10by1yYXRpby1zY2hlbWEudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxHQUFHLE1BQU0sV0FBVyxDQUFBO0FBQzNCLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQTtBQUMxQyxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQTtBQUNyRCxPQUFPLEVBQWlCLHNCQUFzQixFQUFnQixNQUFNLGNBQWMsQ0FBQTtBQWlCbEYsTUFBTSxDQUFDLE1BQU0sMEJBQTBCLEdBQUcsR0FBRyxDQUFDLE1BQU0sQ0FBQztJQUNuRCxhQUFhLEVBQUUsR0FBRyxDQUFDLE1BQU0sRUFBRSxDQUFDLFFBQVEsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxRQUFRLEVBQUU7SUFDekQsYUFBYSxFQUFFLEdBQUcsQ0FBQyxNQUFNLEVBQUU7U0FDeEIsS0FBSyxDQUFDLEdBQUcsZ0JBQWdCLENBQUMsTUFBTSxFQUFFLENBQUM7U0FDbkMsUUFBUSxFQUFFO0lBQ2IsYUFBYSxFQUFFLEdBQUcsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsUUFBUSxFQUFFO0lBQ3pELGFBQWEsRUFBRSxHQUFHLENBQUMsTUFBTSxFQUFFO1NBQ3hCLEtBQUssQ0FBQyxHQUFHLGdCQUFnQixDQUFDLE1BQU0sRUFBRSxDQUFDO1NBQ25DLFFBQVEsRUFBRTtJQUNiLGFBQWEsRUFBRSxHQUFHLENBQUMsTUFBTSxFQUFFO1NBQ3hCLE9BQU8sQ0FBQyxVQUFVLENBQUM7U0FDbkIsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLDBCQUEwQjtTQUNsQyxRQUFRLEVBQUU7SUFDYixhQUFhLEVB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LE1BQU0sRUFBRSxDQUFDLFFBQVEsRUFBRTtTQUNsQyxDQUFDO1FBQ0YsUUFBUSxFQUFFLEdBQUcsQ0FBQyxNQUFNLENBQUM7WUFDbkIsT0FBTyxFQUFFLEdBQUcsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsUUFBUSxFQUFFO1lBQ25ELE9BQU8sRUFBRSxHQUFHLENBQUMsTUFBTSxFQUFFO2lCQUNsQixLQUFLLENBQUMsR0FBRyxnQkFBZ0IsQ0FBQyxNQUFNLEVBQUUsQ0FBQztpQkFDbkMsUUFBUSxFQUFFO1lBQ2IsTUFBTSxFQUFFLEdBQUcsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxRQUFRLEVBQUU7WUFDMUMsUUFBUSxFQUFFLEdBQUcsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxRQUFRLEVBQUU7U0FDbEMsQ0FBQztRQUNGLFlBQVksRUFBRSxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUMsUUFBUSxFQUFFLENBQUMsUUFBUSxFQUFFO1FBQ2hELFNBQVMsRUFBRSxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUMsUUFBUSxFQUFFLENBQUMsUUFBUSxFQUFFO1FBQzdDLFdBQVcsRUFBRSxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUMsUUFBUSxFQUFFO1FBQ3BDLEdBQUcsRUFBRSxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUMsUUFBUSxFQUFFO0tBQzdCLENBQUMsQ0FBQyxRQUFRLEVBQUU7Q0FDZCxDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgSm9pIGZyb20gJ0BoYXBpL2pvaSdcbmltcG9ydCB7IFRpY2tNYXRoIH0gZnJvbSAnQHVuaXN3YXAvdjMtc2RrJ1xuaW1wb3J0IHsgU1VQUE9SVEVEX0NIQUlOUyB9IGZyb20gJy4uLy4uL2luamVjdG9yLXNvcidcbmltcG9ydCB7IFF1b3RlUmVzcG9uc2UsIFF1b3RlUmVzcG9uc2VTY2hlbWFKb2ksIFRva2VuSW5Sb3V0ZSB9IGZyb20gJy4uLy4uL3NjaGVtYSdcblxuZXhwb3J0IHR5cGUgUG9zdFN3YXBUYXJnZXRQb29sID0ge1xuICBhZGRyZXNzOiBzdHJpbmdcbiAgdG9rZW5JbjogVG9rZW5JblJvdXRlXG4gIHRva2VuT3V0OiBUb2tlbkluUm91dGVcbiAgc3FydFJhdGlvWDk2OiBzdHJpbmdcbiAgbGlxdWlkaXR5OiBzdHJpbmdcbiAgdGlja0N1cnJlbnQ6IHN0cmluZ1xuICBmZWU6IHN0cmluZ1xufVxuXG5leHBvcnQgdHlwZSBSZXNwb25zZUZyYWN0aW9uID0ge1xuICBudW1lcmF0b3I6IHN0cmluZ1xuICBkZW5vbWluYXRvcjogc3RyaW5nXG59XG5cbmV4cG9ydCBjb25zdCBRdW90ZVRvUmF0aW9RdWVyeVBhcmFtc0pvaSA9IEpvaS5vYmplY3Qoe1xuICB0b2tlbjBBZGRyZXNzOiBKb2kuc3RyaW5nKCkuYWxwaGFudW0oKS5tYXgoNDIpLnJlcXVpcmVkKCksXG4gIHRva2VuMENoYWluSWQ6IEpvaS5udW1iZXIoKVxuICAgIC52YWxpZCguLi5TVVBQT1JURURfQ0hBSU5TLnZhbHVlcygpKVxuICAgIC5yZXF1aXJlZCgpLFxuICB0b2tlbjFBZGRyZXNzOiBKb2kuc3RyaW5nKCkuYWxwaGFudW0oKS5tYXgoNDIpLnJlcXVpcmVkKCksXG4gIHRva2VuMUNoYWluSWQ6IEpvaS5udW1iZXIoKVxuICAgIC52YWxpZCguLi5TVVBQT1JURURfQ0hBSU5TLnZhbHVlcygpKVxuICAgIC5yZXF1aXJlZCgpLFxuICB0b2tlbjBCYWxhbmNlOiBKb2kuc3RyaW5nKClcbiAgICAucGF0dGVybigvXlswLTldKyQvKVxuICAgIC5tYXgoNzcpIC8vIFRPRE86IHZhbGlkYXRlIDwgMioqMjU2XG4gICAgLnJlcXVpcmVkKCksXG4gIHRva2VuMUJhbGFuY2U6IEpvaS5zdHJpbmcoKVxuICAgIC5wYXR0ZXJuKC9eWzAtOV0rJC8pXG4gICAgLm1heCg3NykgLy8gVE9ETzogdmFsaWRhdGUgPCAyKioyNTZcbiAgICAucmVxdWlyZWQoKSxcbiAgdGlja0xvd2VyOiBKb2kubnVtYmVyKCkubWluKFRpY2tNYXRoLk1JTl9USUNLKS5tYXgoVGlja01hdGguTUFYX1RJQ0spLnJlcXVpcmVkKCksXG4gIHRpY2tVcHBlcjogSm9pLm51bWJlcigpLm1pbihUaWNrTWF0aC5NSU5fVElDSykubWF4KFRpY2tNYXRoLk1BWF9USUNLKS5yZXF1aXJlZCgpLFxuICBmZWVBbW91bnQ6IEpvaS5udW1iZXIoKS5taW4oMCkubWF4KDEwXzAwMCkucmVxdWlyZWQoKSxcbiAgcmVjaXBpZW50OiBKb2kuc3RyaW5nKClcbiAgICAucGF0dGVybihuZXcgUmVnRXhwKC9eMHhbYS1mQS1GMC05XXs0MH0kLykpXG4gICAgLm9wdGlvbmFsKCksXG4gIHNsaXBwYWdlVG9sZXJhbmNlOiBKb2kubnVtYmVyKCkubWluKDApLm1heCgyMCkucHJlY2lzaW9uKDIpLm9wdGlvbmFsKCksXG4gIGRlYWRsaW5lOiBKb2kubnVtYmVyKCkubWF4KDEwODAwKS5vcHRpb25hbCgpLCAvLyAxODAgbWlucywgc2FtZSBhcyBpbnRlcmZhY2UgbWF4XG4gIGdhc1ByaWNlV2VpOiBKb2kuc3RyaW5nKClcbiAgICAucGF0dGVybigvXlswLTldKyQvKVxuICAgIC5tYXgoMzApXG4gICAgLm9wdGlvbmFsKCksXG4gIG1pblNwbGl0czogSm9pLm51bWJlcigpLm1heCg3KS5vcHRpb25hbCgpLFxuICByYXRpb0Vycm9yVG9sZXJhbmNlOiBKb2kubnVtYmVyKCkubWluKDApLm1heCgxMCkucHJlY2lzaW9uKDIpLmRlZmF1bHQoMSkub3B0aW9uYWwoKSxcbiAgbWF4SXRlcmF0aW9uczogSm9pLm51bWJlcigpLm1pbigxKS5tYXgoMTApLmRlZmF1bHQoNSkucmVxdWlyZWQoKSxcbiAgYWRkTGlxdWlkaXR5UmVjaXBpZW50OiBKb2kuc3RyaW5nKClcbiAgICAucGF0dGVybihuZXcgUmVnRXhwKC9eMHhbYS1mQS1GMC05XXs0MH0kLykpXG4gICAgLm9wdGlvbmFsKCksXG4gIGFkZExpcXVpZGl0eVRva2VuSWQ6IEpvaS5zdHJpbmcoKVxuICAgIC5wYXR0ZXJuKC9eWzAtOV0rJC8pXG4gICAgLm1heCg1MykgLy8gVE9ETzogdmFsaWRhdGUgPCAyKioxNzZcbiAgICAub3B0aW9uYWwoKSxcbn0pLmFuZCgnc2xpcHBhZ2VUb2xlcmFuY2UnLCAnZGVhZGxpbmUnKVxuXG5leHBvcnQgdHlwZSBRdW90ZVRvUmF0aW9RdWVyeVBhcmFtcyA9IHtcbiAgdG9rZW4wQWRkcmVzczogc3RyaW5nXG4gIHRva2VuMENoYWluSWQ6IG51bWJlclxuICB0b2tlbjFBZGRyZXNzOiBzdHJpbmdcbiAgdG9rZW4xQ2hhaW5JZDogbnVtYmVyXG4gIHRva2VuMEJhbGFuY2U6IHN0cmluZ1xuICB0b2tlbjFCYWxhbmNlOiBzdHJpbmdcbiAgdGlja0xvd2VyOiBudW1iZXJcbiAgdGlja1VwcGVyOiBudW1iZXJcbiAgZmVlQW1vdW50OiBudW1iZXJcbiAgcmVjaXBpZW50Pzogc3RyaW5nXG4gIHNsaXBwYWdlVG9sZXJhbmNlPzogc3RyaW5nXG4gIGRlYWRsaW5lPzogc3RyaW5nXG4gIGdhc1ByaWNlV2VpPzogc3RyaW5nXG4gIG1pblNwbGl0cz86IG51bWJlclxuICByYXRpb0Vycm9yVG9sZXJhbmNlOiBudW1iZXJcbiAgbWF4SXRlcmF0aW9uczogbnVtYmVyXG4gIGFkZExpcXVpZGl0eVJlY2lwaWVudD86IHN0cmluZ1xuICBhZGRMaXF1aWRpdHlUb2tlbklkPzogc3RyaW5nXG59XG5cbmV4cG9ydCB0eXBlIFF1b3RlVG9SYXRpb1Jlc3BvbnNlID0gUXVvdGVSZXNwb25zZSAmIHtcbiAgdG9rZW5JbkFkZHJlc3M6IHN0cmluZ1xuICB0b2tlbk91dEFkZHJlc3M6IHN0cmluZ1xuICB0b2tlbjBCYWxhbmNlVXBkYXRlZDogc3RyaW5nXG4gIHRva2VuMUJhbGFuY2VVcGRhdGVkOiBzdHJpbmdcbiAgb3B0aW1hbFJhdGlvOiBzdHJpbmdcbiAgb3B0aW1hbFJhdGlvRnJhY3Rpb246IFJlc3BvbnNlRnJhY3Rpb25cbiAgbmV3UmF0aW86IHN0cmluZ1xuICBuZXdSYXRpb0ZyYWN0aW9uOiBSZXNwb25zZUZyYWN0aW9uXG4gIHBvc3RTd2FwVGFyZ2V0UG9vbDogUG9zdFN3YXBUYXJnZXRQb29sXG59XG5cbmV4cG9ydCBjb25zdCBRdW90ZXRvUmF0aW9SZXNwb25zZVNjaGVtYUpvaSA9IFF1b3RlUmVzcG9uc2VTY2hlbWFKb2kua2V5cyh7XG4gIHRva2VuSW5BZGRyZXNzOiBKb2kuc3RyaW5nKCkuYWxwaGFudW0oKS5tYXgoNDIpLnJlcXVpcmVkKCksXG4gIHRva2VuT3V0QWRkcmVzczogSm9pLnN0cmluZygpLmFscGhhbnVtKCkubWF4KDQyKS5yZXF1aXJlZCgpLFxuICB0b2tlbjBCYWxhbmNlVXBkYXRlZDogSm9pLnN0cmluZygpLmFscGhhbnVtKCkucmVxdWlyZWQoKSxcbiAgdG9rZW4xQmFsYW5jZVVwZGF0ZWQ6IEpvaS5zdHJpbmcoKS5hbHBoYW51bSgpLnJlcXVpcmVkKCksXG4gIG9wdGltYWxSYXRpbzogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gIG9wdGltYWxSYXRpb0ZyYWN0aW9uOiBKb2kub2JqZWN0KHtcbiAgICBudW1lcmF0b3I6IEpvaS5zdHJpbmcoKSxcbiAgICBkZW5vbWluYXRvcjogSm9pLnN0cmluZygpLFxuICB9KS5yZXF1aXJlZCgpLFxuICBuZXdSYXRpbzogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gIG5ld1JhdGlvRnJhY3Rpb246IEpvaS5vYmplY3Qoe1xuICAgIG51bWVyYXRvcjogSm9pLnN0cmluZygpLmFscGhhbnVtKCksXG4gICAgZGVub21pbmF0b3I6IEpvaS5zdHJpbmcoKS5hbHBoYW51bSgpLFxuICB9KS5yZXF1aXJlZCgpLFxuICBwb3N0U3dhcFRhcmdldFBvb2w6IEpvaS5vYmplY3Qoe1xuICAgIGFkZHJlc3M6IEpvaS5zdHJpbmcoKS5hbHBoYW51bSgpLm1heCg0MikucmVxdWlyZWQoKSxcbiAgICB0b2tlbkluOiBKb2kub2JqZWN0KHtcbiAgICAgIGFkZHJlc3M6IEpvaS5zdHJpbmcoKS5hbHBoYW51bSgpLm1heCg0MikucmVxdWlyZWQoKSxcbiAgICAgIGNoYWluSWQ6IEpvaS5udW1iZXIoKVxuICAgICAgICAudmFsaWQoLi4uU1VQUE9SVEVEX0NIQUlOUy52YWx1ZXMoKSlcbiAgICAgICAgLnJlcXVpcmVkKCksXG4gICAgICBzeW1ib2w6IEpvaS5zdHJpbmcoKS5hbHBoYW51bSgpLnJlcXVpcmVkKCksXG4gICAgICBkZWNpbWFsczogSm9pLm51bWJlcigpLnJlcXVpcmVkKCksXG4gICAgfSksXG4gICAgdG9rZW5PdXQ6IEpvaS5vYmplY3Qoe1xuICAgICAgYWRkcmVzczogSm9pLnN0cmluZygpLmFscGhhbnVtKCkubWF4KDQyKS5yZXF1aXJlZCgpLFxuICAgICAgY2hhaW5JZDogSm9pLm51bWJlcigpXG4gICAgICAgIC52YWxpZCguLi5TVVBQT1JURURfQ0hBSU5TLnZhbHVlcygpKVxuICAgICAgICAucmVxdWlyZWQoKSxcbiAgICAgIHN5bWJvbDogSm9pLnN0cmluZygpLmFscGhhbnVtKCkucmVxdWlyZWQoKSxcbiAgICAgIGRlY2ltYWxzOiBKb2kubnVtYmVyKCkucmVxdWlyZWQoKSxcbiAgICB9KSxcbiAgICBzcXJ0UmF0aW9YOTY6IEpvaS5zdHJpbmcoKS5hbHBoYW51bSgpLnJlcXVpcmVkKCksXG4gICAgbGlxdWlkaXR5OiBKb2kuc3RyaW5nKCkuYWxwaGFudW0oKS5yZXF1aXJlZCgpLFxuICAgIHRpY2tDdXJyZW50OiBKb2kubnVtYmVyKCkucmVxdWlyZWQoKSxcbiAgICBmZWU6IEpvaS5udW1iZXIoKS5yZXF1aXJlZCgpLFxuICB9KS5vcHRpb25hbCgpLFxufSlcbiJdfQ==